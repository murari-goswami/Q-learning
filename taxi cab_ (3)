{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [],
   "source": [
    "import numpy as np\n",
    "\n",
    "import random\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "+---------+\n",
      "|\u001b[43mR\u001b[0m: | : :G|\n",
      "| : : : : |\n",
      "| : : : : |\n",
      "| | : | : |\n",
      "|\u001b[34;1mY\u001b[0m| : |\u001b[35mB\u001b[0m: |\n",
      "+---------+\n",
      "\n"
     ]
    }
   ],
   "source": [
    "import gym\n",
    "env = gym.make(\"Taxi-v2\").env\n",
    "\n",
    "env.render()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "attachments": {
    "image.png": {
     "image/png": "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"
    }
   },
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We have imported gym. If you do not have gym installed, you can do pip install gym in your command prompt and gym will be installed.\n",
    "\n",
    "![image.png](attachment:image.png)\n",
    "\n",
    "1) State space\n",
    "\n",
    "Let's assume The Taxi is the only vehicle in this parking lot. We can break up the parking lot into a 5x5 grid, which gives us 25 possible taxi locations. These 25 locations are one part of our state space. Notice the current location state of our taxi from the above output is in the coordinate (1,3).\n",
    "\n",
    "You'll also notice there are four (4) locations that we can pick up and drop off a passenger: R, G, Y, B or [(0,0), (0,4), (4,0), (4,3)] in (row, col) coordinates. Our illustrated passenger is in location Y and they wish to go to location R.\n",
    "\n",
    "When we also account for one (1) additional passenger state of being inside the taxi, we can take all combinations of passenger locations and destination locations to come to a total number of states for our taxi environment; there's four (4) destinations and five (4 + 1) passenger locations.\n",
    "\n",
    "So, our taxi environment has 5×5×5×4=500 total possible states.\n",
    "\n",
    "\n",
    "\n",
    "The agent encounters one of the 500 states and it takes an action. The action in our case can be to move in a direction or decide to pickup/dropoff a passenger.\n",
    "\n",
    "In other words, we have six possible actions:\n",
    "\n",
    "1. south\n",
    "2. north\n",
    "3. east\n",
    "4. west\n",
    "5. pickup\n",
    "6. dropoff\n",
    "\n",
    "\n",
    "This is the action space: the set of all the actions that our agent can take in a given state.\n",
    "\n",
    " we will simply to consider going around the wall.\n",
    "\n",
    "2.  Action Space\n",
    "\n",
    "The agent encounters one of the 500 states and it takes an action. The action in our case can be to move in a direction or decide to pickup/dropoff a passenger.\n",
    "\n",
    "In other words, we have six possible actions:\n",
    "\n",
    "1. south\n",
    "2. north\n",
    "3. east\n",
    "4. west\n",
    "5. pickup\n",
    "6. dropoff\n",
    "\n",
    "This is the action space: the set of all the actions that our agent can take in a given state.\n",
    "\n",
    "You'll notice in the illustration above, that the taxi cannot perform certain actions in certain states due to walls. In environment's code, we will simply provide a -1 penalty for every wall hit and the taxi won't move anywhere. This will just rack up penalties causing the taxi to consider going around the wall.\n",
    "\n",
    "\n",
    "\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "+---------+\n",
      "|\u001b[35mR\u001b[0m:\u001b[43m \u001b[0m| : :G|\n",
      "| : : : : |\n",
      "| : : : : |\n",
      "| | : | : |\n",
      "|Y| : |\u001b[34;1mB\u001b[0m: |\n",
      "+---------+\n",
      "\n",
      "Action size  6\n",
      "State size  500\n"
     ]
    }
   ],
   "source": [
    "env.reset() # reset environment to a new, random state\n",
    "env.render()\n",
    "\n",
    "action_size = env.action_space.n\n",
    "print(\"Action size \", action_size)\n",
    "\n",
    "state_size = env.observation_space.n\n",
    "print(\"State size \", state_size)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We have created our Q-table, to know how much rows (states) and columns (actions) we need, we need to calculate the action_size and the state_size\n",
    "OpenAI Gym provides us a way to do that: env.action_space.n and env.observation_space.n\n",
    "\n",
    "After that we are displaying the matrices. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[[0. 0. 0. 0. 0. 0.]\n",
      " [0. 0. 0. 0. 0. 0.]\n",
      " [0. 0. 0. 0. 0. 0.]\n",
      " ...\n",
      " [0. 0. 0. 0. 0. 0.]\n",
      " [0. 0. 0. 0. 0. 0.]\n",
      " [0. 0. 0. 0. 0. 0.]]\n"
     ]
    }
   ],
   "source": [
    "q_table = np.zeros([env.observation_space.n, env.action_space.n])\n",
    "print (q_table)"
   ]
  },
  {
   "attachments": {
    "image.png": {
     "image/png": "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"
    }
   },
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Intro to Q-learning\n",
    "\n",
    "Essentially, Q-learning lets the agent use the environment's rewards to learn, over time, the best action to take in a given state.\n",
    "\n",
    "In our Taxi environment, we have the reward table, P, that the agent will learn from. It does thing by looking receiving a reward for taking an action in the current state, then updating a Q-value to remember if that action was beneficial.\n",
    "\n",
    "The values store in the Q-table are called a Q-values, and they map to a (state, action) combination.\n",
    "\n",
    "A Q-value for a particular state-action combination is representative of the \"quality\" of an action taken from that state. Better Q-values imply better chances of getting greater rewards.\n",
    "\n",
    "For example, if the taxi is faced with a state that includes a passenger at its current location, it is highly likely that the Q-value for pickup is higher when compared to other actions, like dropoff or north.\n",
    "\n",
    "Q-values are initialized to an arbitrary value, and as the agent exposes itself to the environment and receives different rewards by executing different actions, the Q-values are updated using the equation:\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "![image.png](attachment:image.png)\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "Where:\n",
    "\n",
    "- α (alpha) is the learning rate (0<α≤1) - Just like in supervised learning settings, α is the extent to which our Q-values are being updated in every iteration.\n",
    "\n",
    "- γ (gamma) is the discount factor (0≤γ≤1) - determines how much importance we want to give to future rewards. A high value for the discount factor (close to 1) captures the long-term effective award, whereas, a discount factor of 0 makes our agent consider only immediate reward, hence making it greedy.\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Episode: {100000}\n",
      "Training finished.\n",
      "\n",
      "Wall time: 41.5 s\n"
     ]
    }
   ],
   "source": [
    "%%time\n",
    "\"\"\"Training the agent\"\"\"\n",
    "\n",
    "import random\n",
    "from IPython.display import clear_output\n",
    "\n",
    "# Hyperparameters\n",
    "alpha = 0.1\n",
    "gamma = 0.6\n",
    "epsilon = 0.1\n",
    "max_steps = 99  \n",
    "total_test_episodes = 100   \n",
    "\n",
    "# For plotting metrics\n",
    "all_epochs = []\n",
    "all_penalties = []\n",
    "\n",
    "for i in range(1, 100001):\n",
    "    state = env.reset()\n",
    "\n",
    "    epochs, penalties, reward, = 0, 0, 0\n",
    "    done = False\n",
    "    \n",
    "    while not done:\n",
    "        if random.uniform(0, 1) < epsilon:\n",
    "            action = env.action_space.sample() # Explore action space\n",
    "        else:\n",
    "            action = np.argmax(q_table[state]) # Exploit learned values\n",
    "\n",
    "        next_state, reward, done, info = env.step(action) \n",
    "        \n",
    "        old_value = q_table[state, action]\n",
    "        next_max = np.max(q_table[next_state])\n",
    "        \n",
    "        new_value = (1 - alpha) * old_value + alpha * (reward + gamma * next_max)\n",
    "        q_table[state, action] = new_value\n",
    "\n",
    "        if reward == -10:  #computing rewards and penalties\n",
    "            penalties += 1\n",
    "\n",
    "        state = next_state\n",
    "        epochs += 1\n",
    "        \n",
    "    if i % 100 == 0:\n",
    "        clear_output(wait=True)\n",
    "        print(\"Episode:\",{i})\n",
    "\n",
    "print(\"Training finished.\\n\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "next, we evaluate the performance of the agent. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "#evaluate the agent's performance\n",
    "\n",
    "from IPython.display import clear_output\n",
    "from time import sleep\n",
    "\n",
    "\n",
    "env.reset()\n",
    "rewards = []\n",
    "\n",
    "for episode in range(total_test_episodes):\n",
    "    state = env.reset()\n",
    "    step = 0\n",
    "    done = False\n",
    "    total_rewards = 0\n",
    "    #print(\"****************************************************\")\n",
    "    #print(\"EPISODE \", episode)\n",
    "\n",
    "    for step in range(max_steps):\n",
    "        #  The AGENT is PLAYING\n",
    "        env.render()\n",
    "        # Take the action (index) that have the maximum expected future reward given that state\n",
    "        action = np.argmax(q_table[state])\n",
    "        \n",
    "        new_state, reward, done, info = env.step(action)\n",
    "        total_rewards += reward\n",
    "        if done:\n",
    "            rewards.append(total_rewards)\n",
    "            print (\"Score\", total_rewards)\n",
    "            break\n",
    "        state = new_state\n",
    "env.close()\n",
    "print (\"Score over time: \" +  str(sum(rewards)/total_test_episodes))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.5.2"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
